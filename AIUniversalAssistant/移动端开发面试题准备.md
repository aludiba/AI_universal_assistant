# 移动端开发工程师面试题准备（iOS & Flutter）

## 一、Flutter 框架相关

### 1. Flutter 的核心架构是什么？Widget、Element、RenderObject 的关系？

**答案：**
- Flutter 采用三层架构：Widget（配置层）→ Element（元素层）→ RenderObject（渲染层）
- Widget 是配置信息，不可变；Element 是 Widget 的实例化，管理生命周期；RenderObject 负责实际渲染
- Widget 树通过 Element 树映射到 RenderObject 树，实现高效的 UI 更新

### 2. Flutter 的状态管理方案有哪些？如何选择？

**答案：**
- 基础方案：StatefulWidget、InheritedWidget
- 第三方方案：Provider（推荐）、Riverpod、Bloc、GetX、Redux
- 选择原则：小项目用 Provider，复杂业务用 Bloc，需要响应式用 Riverpod

### 3. Flutter 如何实现跨平台？与 React Native 的区别？

**答案：**
- Flutter 使用 Dart 编译为原生代码，通过 Skia 引擎直接绘制 UI，性能接近原生
- React Native 通过 JavaScript Bridge 调用原生组件，存在性能损耗
- Flutter 的优势：性能更好、UI 一致性更强、热重载更快

### 4. Flutter 的性能优化策略有哪些？

**答案：**
- 使用 const 构造函数减少重建
- 合理使用 ListView.builder 而非 ListView
- 避免在 build 方法中创建对象
- 使用 RepaintBoundary 隔离重绘区域
- 图片优化：使用缓存、压缩、懒加载
- 减少 Widget 树深度，避免过度嵌套

### 5. Flutter 如何处理内存泄漏？

**答案：**
- 及时取消 Stream 订阅和 Timer
- 使用 WeakReference 避免循环引用
- 在 dispose 中释放资源（Controller、监听器）
- 使用 DevTools 检测内存泄漏
- 避免在闭包中持有大对象

## 二、iOS 原生开发相关

### 6. iOS 内存管理机制？ARC 的工作原理？

**答案：**
- ARC（自动引用计数）在编译时插入 retain/release 代码
- 强引用计数为 0 时自动释放对象
- 循环引用需使用 weak/unowned 打破
- 值类型（struct、enum）使用值语义，无需引用计数

### 7. iOS 多线程方案？GCD 和 Operation Queue 的区别？

**答案：**
- GCD：基于 C 的底层 API，轻量级，适合简单任务
- Operation Queue：基于 GCD 的高级封装，支持依赖、取消、优先级
- 选择：简单并发用 GCD，复杂任务管理用 Operation Queue

### 8. iOS 性能优化：卡顿、内存、启动优化？

**答案：**
- 卡顿优化：主线程避免耗时操作、使用异步加载、优化 TableView 滚动
- 内存优化：及时释放大对象、使用图片缓存、避免循环引用
- 启动优化：减少启动时加载、延迟初始化、使用二进制重排

### 9. iOS 网络请求：URLSession 的使用和错误处理？

**答案：**
- 使用 URLSession 进行网络请求，支持后台下载
- 错误处理：网络错误、HTTP 状态码、业务错误分层处理
- 使用 Codable 进行 JSON 解析，避免手动解析
- 实现请求拦截器统一处理认证、日志、错误

### 10. iOS 数据持久化方案？Core Data vs Realm vs SQLite？

**答案：**
- UserDefaults：简单键值对存储
- Keychain：敏感数据（密码、token）
- Core Data：Apple 官方 ORM，功能强大但复杂
- Realm：第三方数据库，API 简洁，性能好
- SQLite：轻量级，适合简单场景
- 选择：简单数据用 UserDefaults，复杂关系用 Core Data 或 Realm

## 三、跨平台开发相关

### 11. Flutter 与 iOS 原生如何通信？

**答案：**
- Platform Channel：MethodChannel（方法调用）、EventChannel（事件流）、BasicMessageChannel（双向通信）
- 使用场景：调用原生功能（相机、定位）、获取设备信息、第三方 SDK 集成
- 注意：频繁调用会有性能损耗，复杂逻辑建议在原生端实现

### 12. Hybrid App 开发模式？Flutter 如何集成 WebView？

**答案：**
- Hybrid App：原生容器 + WebView，适合快速迭代、跨平台
- Flutter 使用 webview_flutter 插件集成 WebView
- 通过 JavaScript Channel 实现 Flutter 与 WebView 的双向通信
- 注意：WebView 性能不如原生，适合展示型页面

### 13. 如何实现 Flutter 与原生代码的混合开发？

**答案：**
- 使用 Platform Channel 进行通信
- 原生功能封装为插件，通过 pub.dev 发布
- 使用 Flutter Module 嵌入到现有原生项目
- 注意版本兼容、线程安全、内存管理

## 四、性能优化相关

### 14. 移动端性能优化：页面渲染、内存管理、动画性能？

**答案：**
- 页面渲染：减少布局层级、使用 GPU 加速、避免过度绘制
- 内存管理：及时释放资源、使用对象池、监控内存峰值
- 动画性能：使用原生动画 API、减少重绘、60fps 目标
- 网络优化：请求合并、缓存策略、图片懒加载

### 15. Flutter 页面卡顿如何排查和优化？

**答案：**
- 使用 Flutter DevTools 的 Performance 面板分析
- 检查 build 方法耗时、查找不必要的重建
- 使用 RepaintBoundary 隔离重绘区域
- 优化图片加载、减少 Widget 树深度
- 使用 Isolate 处理 CPU 密集型任务

### 16. iOS 应用启动优化策略？

**答案：**
- 减少启动时同步操作，延迟非关键初始化
- 使用二进制重排（Order File）优化冷启动
- 减少动态库加载，合并 Framework
- 优化首屏渲染，使用占位图
- 使用 App Launch Time 工具分析启动耗时

## 五、网络与数据存储

### 17. 移动端网络请求优化策略？

**答案：**
- 请求合并：减少请求次数，合并多个接口
- 缓存策略：HTTP 缓存、本地缓存、内存缓存
- 请求优先级：关键请求优先，非关键请求延迟
- 超时和重试：合理设置超时时间，实现指数退避重试
- 压缩传输：使用 gzip、图片压缩

### 18. 移动端数据存储方案选择？

**答案：**
- 简单数据：UserDefaults（iOS）、SharedPreferences（Android）
- 敏感数据：Keychain（iOS）、EncryptedSharedPreferences（Android）
- 结构化数据：SQLite、Realm、Core Data
- 文件存储：Documents、Cache 目录
- 云端同步：iCloud、Firebase

## 六、安全相关

### 19. 移动端常见安全问题及防护？

**答案：**
- 数据加密：传输加密（HTTPS）、存储加密（AES）
- 防逆向：代码混淆、加固、反调试
- 防抓包：证书绑定（SSL Pinning）、请求签名
- 防越狱/Root：检测越狱设备，限制功能
- 敏感信息：不在代码中硬编码密钥，使用 Keychain

### 20. iOS 应用如何防止被逆向工程？

**答案：**
- 代码混淆：使用工具混淆关键代码
- 字符串加密：敏感字符串加密存储
- 反调试：检测调试器，退出应用
- 完整性校验：检测应用是否被篡改
- 使用 Apple 的 App Attest API 验证应用真实性

## 七、项目经验相关

### 21. 你在 Flutter 项目中遇到的最大挑战是什么？如何解决？

**答案要点：**
- 性能问题：通过性能分析工具定位，优化 Widget 重建
- 原生集成：封装 Platform Channel，统一接口
- 状态管理：选择合适的方案，重构代码结构
- 内存泄漏：使用 DevTools 排查，规范资源释放

### 22. 如何保证 Flutter 应用的稳定性？

**答案：**
- 异常捕获：使用 Zone 全局捕获异常
- 错误上报：集成 Sentry 等错误监控平台
- 单元测试：核心业务逻辑编写测试
- 代码规范：使用 lint 工具，Code Review
- 灰度发布：小范围测试后再全量

### 23. 医疗行业开发有哪些特殊要求？

**答案：**
- 数据安全：严格的隐私保护，符合 HIPAA/GDPR
- 合规要求：通过医疗设备认证，遵循行业标准
- 可靠性：高可用性，数据备份和恢复
- 用户体验：界面简洁，操作流程清晰
- 离线能力：关键功能支持离线使用

## 八、技术架构相关

### 24. 移动端架构设计：MVC、MVP、MVVM 的区别？

**答案：**
- MVC：Model-View-Controller，View 和 Controller 耦合
- MVP：Model-View-Presenter，View 被动，Presenter 处理逻辑
- MVVM：Model-View-ViewModel，数据绑定，适合响应式
- Flutter 推荐：使用 Provider/Bloc 实现 MVVM 模式

### 25. 如何设计一个可维护的移动端项目？

**答案：**
- 模块化：按功能拆分模块，降低耦合
- 统一规范：代码风格、命名规范、目录结构
- 文档完善：API 文档、架构文档、开发指南
- 工具链：CI/CD、自动化测试、代码检查
- 技术选型：选择成熟稳定的框架和库

---

## 面试准备建议

1. **技术深度**：重点准备 Flutter 和 iOS 的核心原理，能说清楚底层机制
2. **项目经验**：准备 2-3 个具体项目案例，能详细说明技术难点和解决方案
3. **性能优化**：准备实际优化案例，有数据支撑（如启动时间、内存占用等）
4. **问题提问**：准备 2-3 个有深度的问题，展现思考能力
5. **医疗行业**：了解医疗行业特点，数据安全、合规要求等

